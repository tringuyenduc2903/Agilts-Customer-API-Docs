{
  "openapi": "3.0.0",
  "info": {
    "title": "Tài liệu API",
    "description": "__Lưu ý khi gọi API__:\n* Đối với máy chủ **Máy chủ địa phương**: Sử dụng tên miền [*http://localhost:3000*](http://localhost:3000)\n* Đối với máy chủ **Dành cho lập trình viên**: Sử dụng tên miền [*https://next.agilts.com*](https://next.agilts.com)\n\n__Xem thêm:__\n * [Giới thiệu dự án](https://agilts.atlassian.net/wiki)\n * [Kanban board](https://agilts.atlassian.net/jira)",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8000",
      "description": "Máy chủ địa phương"
    },
    {
      "url": "https://customer-api-fe.agilts.com",
      "description": "Dành cho Lập trình viên"
    },
    {
      "url": "https://customer-api-staging.agilts.com",
      "description": "Dành cho Đối tác"
    },
    {
      "url": "https://customer-api.agilts.com",
      "description": "Sản phẩm hoàn thiện"
    }
  ],
  "paths": {
    "/sanctum/csrf-cookie": {
      "get": {
        "description": "Lấy Token CORS",
        "tags": [
          "Xác thực"
        ],
        "responses": {
          "204": {
            "description": "Thiết lập Cookie CORS thành công"
          }
        }
      }
    },
    "/register": {
      "post": {
        "description": "Đăng ký tài khoản",
        "tags": [
          "Xác thực"
        ],
        "parameters": [
          {
            "name": "X-Requested-With",
            "in": "header",
            "example": "XMLHttpRequest",
            "required": true
          },
          {
            "name": "X-CSRF-TOKEN",
            "in": "header",
            "description": "Token CORS",
            "example": "eyJpdiI6IkVkZ2dLVUhSdXRXYU8zMW1zclI0Rmc9PSIsInZhbHVlIjoiaklOOTlINHFHaDRyeXJWRmJZcDlWTzRqWC9iUWNCdWRXTTIrN2N5TmtoT3VESFBDR0VCcnFoV2UrSlFQYmFQZmYydkhYMUp3R2ZxVHhOWmhYekduWTFicEpsSlovTXA4V2taZUhOSi9vN0ZzcnRaeCtSZCs0UkNsSkRaU2NxdkYiLCJtYWMiOiJhY2EyZTUzOTZkOTc4ZGQ1MWQ1ODIwMzM2OTdiM2U5NDhiM2E4OTQ5OGUzMDJhOWVhMjU0NmE0Y2ViNjg3ODA4IiwidGFnIjoiIn0=",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "name": {
                    "title": "Tên khách hàng",
                    "type": "string",
                    "maxLength": 50,
                    "example": "Nguyễn Văn Hải"
                  },
                  "email": {
                    "title": "Email khách hàng",
                    "type": "string",
                    "maxLength": 100,
                    "example": "nguyenvanhai@agilts.com"
                  },
                  "password": {
                    "title": "Mật khẩu khách hàng",
                    "description": "Mật khẩu phải chứa chữ thường, chữ in hoa, ký tự đặc biệt và số. Ngoài ra, mật khẩu chưa bị rò rỉ trong các cuộc tấn công đã được công khai",
                    "type": "string",
                    "maxLength": 20,
                    "minLength": 8,
                    "example": "NguyenVanHai825!"
                  },
                  "password_confirmation": {
                    "title": "Xác nhận lại mật khẩu",
                    "description": "Nhập chính xác mật khẩu trước đó",
                    "type": "string",
                    "maxLength": 20,
                    "minLength": 8,
                    "example": "NguyenVanHai825!"
                  }
                },
                "type": "object",
                "required": [
                  "name",
                  "email",
                  "password",
                  "password_confirmation"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Đăng ký tài khoản thành công",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Dữ liệu trả về",
                  "example": ""
                }
              }
            }
          },
          "419": {
            "description": "Token CORS bị thiếu, không hợp lệ hoặc đã hết hạn",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "description": "Token CSRF không khớp.",
                      "example": "CSRF token mismatch."
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "422": {
            "description": "Dữ liệu khách hàng đã nhập không được chấp nhận",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "example": "Trường tên là bắt buộc. (và 2 lỗi khác)"
                    },
                    "errors": {
                      "properties": {
                        "name": {
                          "title": "Tên khách hàng",
                          "example": [
                            "Trường tên là bắt buộc."
                          ],
                          "type": "array"
                        },
                        "email": {
                          "title": "Email khách hàng",
                          "example": [
                            "Trường email là bắt buộc."
                          ],
                          "type": "array"
                        },
                        "password": {
                          "title": "Mật khẩu khách hàng",
                          "example": [
                            "Trường mật khẩu là bắt buộc."
                          ],
                          "type": "array"
                        }
                      }
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/login": {
      "post": {
        "description": "Đăng nhập tài khoản",
        "tags": [
          "Xác thực"
        ],
        "parameters": [
          {
            "name": "X-Requested-With",
            "in": "header",
            "example": "XMLHttpRequest",
            "required": true
          },
          {
            "name": "X-CSRF-TOKEN",
            "in": "header",
            "description": "Token CORS",
            "example": "eyJpdiI6IkVkZ2dLVUhSdXRXYU8zMW1zclI0Rmc9PSIsInZhbHVlIjoiaklOOTlINHFHaDRyeXJWRmJZcDlWTzRqWC9iUWNCdWRXTTIrN2N5TmtoT3VESFBDR0VCcnFoV2UrSlFQYmFQZmYydkhYMUp3R2ZxVHhOWmhYekduWTFicEpsSlovTXA4V2taZUhOSi9vN0ZzcnRaeCtSZCs0UkNsSkRaU2NxdkYiLCJtYWMiOiJhY2EyZTUzOTZkOTc4ZGQ1MWQ1ODIwMzM2OTdiM2U5NDhiM2E4OTQ5OGUzMDJhOWVhMjU0NmE0Y2ViNjg3ODA4IiwidGFnIjoiIn0=",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "email": {
                    "title": "Email khách hàng",
                    "type": "string",
                    "example": "nguyenvanhai@agilts.com"
                  },
                  "password": {
                    "title": "Mật khẩu khách hàng",
                    "type": "string",
                    "example": "NguyenVanHai825!"
                  },
                  "remember": {
                    "title": "Ghi nhớ tôi",
                    "description": "Tài khoản không bị đăng xuất sau khoảng thời gian nhất định",
                    "type": "boolean",
                    "example": false
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Đăng nhập tài khoản thành công",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "two_factor": {
                      "title": "Xác thực 2 bước",
                      "description": "Trạng thái xác thực 2 bước",
                      "example": false,
                      "type": "boolean"
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "419": {
            "description": "Token CORS bị thiếu, không hợp lệ hoặc đã hết hạn",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "description": "Token CSRF không khớp.",
                      "example": "CSRF token mismatch."
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "422": {
            "description": "Dữ liệu khách hàng đã nhập không được chấp nhận",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "example": "Trường email là bắt buộc. (và 1 lỗi)"
                    },
                    "errors": {
                      "properties": {
                        "email": {
                          "title": "Email khách hàng",
                          "type": "array",
                          "example": [
                            "Trường email là bắt buộc."
                          ]
                        },
                        "password": {
                          "title": "Mật khẩu khách hàng",
                          "type": "array",
                          "example": [
                            "Trường mật khẩu là bắt buộc."
                          ]
                        }
                      }
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/user": {
      "get": {
        "description": "Lấy thông tin Khách hàng",
        "tags": [
          "Khách hàng"
        ],
        "parameters": [
          {
            "name": "X-Requested-With",
            "in": "header",
            "example": "XMLHttpRequest",
            "required": true
          },
          {
            "name": "X-CSRF-TOKEN",
            "in": "header",
            "description": "Token CORS",
            "example": "eyJpdiI6IkVkZ2dLVUhSdXRXYU8zMW1zclI0Rmc9PSIsInZhbHVlIjoiaklOOTlINHFHaDRyeXJWRmJZcDlWTzRqWC9iUWNCdWRXTTIrN2N5TmtoT3VESFBDR0VCcnFoV2UrSlFQYmFQZmYydkhYMUp3R2ZxVHhOWmhYekduWTFicEpsSlovTXA4V2taZUhOSi9vN0ZzcnRaeCtSZCs0UkNsSkRaU2NxdkYiLCJtYWMiOiJhY2EyZTUzOTZkOTc4ZGQ1MWQ1ODIwMzM2OTdiM2U5NDhiM2E4OTQ5OGUzMDJhOWVhMjU0NmE0Y2ViNjg3ODA4IiwidGFnIjoiIn0=",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Lấy thông tin về Khách hàng thành công",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "id": {
                      "title": "Id khách hàng",
                      "example": 1,
                      "type": "number"
                    },
                    "name": {
                      "title": "Tên khách hàng",
                      "example": "Nguyễn Văn Hải",
                      "type": "string"
                    },
                    "birthday": {
                      "title": "Ngày sinh khách hàng",
                      "example": "29/03/2003",
                      "type": "string"
                    },
                    "gender": {
                      "title": "Giới tính khách hàng",
                      "example": 0,
                      "type": "number"
                    },
                    "gender_preview": {
                      "title": "Giới tính khách hàng",
                      "description": "Hiển thị dưới dạng văn bản",
                      "example": "Nam",
                      "type": "string"
                    },
                    "email": {
                      "title": "Email khách hàng",
                      "example": "nguyenvanhai@agilts.com",
                      "type": "string"
                    },
                    "email_verified_at": {
                      "title": "Thời gian xác thực email",
                      "example": "03-06-2024 13:53:15",
                      "type": "string"
                    },
                    "phone_number": {
                      "title": "Số điện thoại khách hàng",
                      "example": "+84982213854",
                      "type": "string"
                    },
                    "phone_number_verified_at": {
                      "title": "Thời gian xác thực số điện thoại",
                      "example": "03-06-2024 13:53:15",
                      "type": "string"
                    },
                    "two_factor_confirmed_at": {
                      "title": "Thời gian bật xác thực 2 bước",
                      "example": "03-06-2024 13:53:15",
                      "type": "string"
                    },
                    "deleted_at": {
                      "title": "Thời gian xoá tài khoản",
                      "example": "03-06-2024 13:53:15",
                      "type": "string"
                    },
                    "created_at": {
                      "title": "Thời gian tạo tài khoản",
                      "example": "03-06-2024 13:53:15",
                      "type": "string"
                    },
                    "updated_at": {
                      "title": "Thời gian cập nhật thông tin tài khoản",
                      "example": "03-06-2024 13:53:15",
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "401": {
            "description": "Khách hàng chưa đăng nhập",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "description": "Không được xác thực.",
                      "example": "Unauthenticated.",
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "419": {
            "description": "Token CORS bị thiếu, không hợp lệ hoặc đã hết hạn",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "description": "Token CSRF không khớp.",
                      "example": "CSRF token mismatch."
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/email/verification-notification": {
      "post": {
        "description": "Gửi thông báo xác minh email mới",
        "tags": [
          "Khách hàng"
        ],
        "parameters": [
          {
            "name": "X-Requested-With",
            "in": "header",
            "example": "XMLHttpRequest",
            "required": true
          },
          {
            "name": "X-CSRF-TOKEN",
            "in": "header",
            "description": "Token CORS",
            "example": "eyJpdiI6IkVkZ2dLVUhSdXRXYU8zMW1zclI0Rmc9PSIsInZhbHVlIjoiaklOOTlINHFHaDRyeXJWRmJZcDlWTzRqWC9iUWNCdWRXTTIrN2N5TmtoT3VESFBDR0VCcnFoV2UrSlFQYmFQZmYydkhYMUp3R2ZxVHhOWmhYekduWTFicEpsSlovTXA4V2taZUhOSi9vN0ZzcnRaeCtSZCs0UkNsSkRaU2NxdkYiLCJtYWMiOiJhY2EyZTUzOTZkOTc4ZGQ1MWQ1ODIwMzM2OTdiM2U5NDhiM2E4OTQ5OGUzMDJhOWVhMjU0NmE0Y2ViNjg3ODA4IiwidGFnIjoiIn0=",
            "required": true
          }
        ],
        "responses": {
          "202": {
            "description": "Khách hàng đã xác minh địa chỉ email thành công",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Dữ liệu trả về",
                  "example": ""
                }
              }
            }
          },
          "204": {
            "description": "Khách hàng đã xác minh địa chỉ email trước đó",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Dữ liệu trả về",
                  "example": ""
                }
              }
            }
          },
          "401": {
            "description": "Khách hàng chưa đăng nhập",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "description": "Không được xác thực.",
                      "example": "Unauthenticated.",
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "419": {
            "description": "Token CORS bị thiếu, không hợp lệ hoặc đã hết hạn",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "description": "Token CSRF không khớp.",
                      "example": "CSRF token mismatch."
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/email/verify/{id}/{hash}": {
      "get": {
        "description": "Xác minh email khách hàng",
        "tags": [
          "Khách hàng"
        ],
        "parameters": [
          {
            "name": "X-Requested-With",
            "in": "header",
            "example": "XMLHttpRequest",
            "required": true
          },
          {
            "name": "X-CSRF-TOKEN",
            "in": "header",
            "description": "Token CORS",
            "example": "eyJpdiI6IkVkZ2dLVUhSdXRXYU8zMW1zclI0Rmc9PSIsInZhbHVlIjoiaklOOTlINHFHaDRyeXJWRmJZcDlWTzRqWC9iUWNCdWRXTTIrN2N5TmtoT3VESFBDR0VCcnFoV2UrSlFQYmFQZmYydkhYMUp3R2ZxVHhOWmhYekduWTFicEpsSlovTXA4V2taZUhOSi9vN0ZzcnRaeCtSZCs0UkNsSkRaU2NxdkYiLCJtYWMiOiJhY2EyZTUzOTZkOTc4ZGQ1MWQ1ODIwMzM2OTdiM2U5NDhiM2E4OTQ5OGUzMDJhOWVhMjU0NmE0Y2ViNjg3ODA4IiwidGFnIjoiIn0=",
            "required": true
          },
          {
            "name": "id",
            "in": "path",
            "description": "Id",
            "example": "1",
            "required": true
          },
          {
            "name": "hash",
            "in": "path",
            "description": "Mã băm",
            "example": "31eec92b32865fe06edb8a303b35bcd60945d426",
            "required": true
          },
          {
            "name": "expires",
            "in": "query",
            "description": "Thời gian hết hạn",
            "example": "1717666434",
            "required": true
          },
          {
            "name": "signature",
            "in": "query",
            "description": "Chữ ký",
            "example": "a3288de9efeac065f1e95e0e4f69eccbc72812395cfbe166b02ce6dca924bb12",
            "required": true
          }
        ],
        "responses": {
          "204": {
            "description": "Khách hàng đã xác minh địa chỉ email thành công",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Dữ liệu trả về",
                  "example": ""
                }
              }
            }
          },
          "401": {
            "description": "Khách hàng chưa đăng nhập",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "description": "Không được xác thực.",
                      "example": "Unauthenticated.",
                      "type": "string"
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "419": {
            "description": "Token CORS bị thiếu, không hợp lệ hoặc đã hết hạn",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "description": "Token CSRF không khớp.",
                      "example": "CSRF token mismatch."
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Xác thực",
      "description": "Chỉ định cách xác thực Khách hàng truy cập hệ thống"
    },
    {
      "name": "Khách hàng",
      "description": "Thông tin về Khách hàng, lịch sử hoạt động"
    }
  ]
}