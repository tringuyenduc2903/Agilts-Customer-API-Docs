{
  "openapi": "3.0.0",
  "info": {
    "title": "Tài liệu API",
    "description": "Xem thêm:\n * [Giới thiệu dự án](https://agilts.atlassian.net/wiki)\n * [Kanban board](https://agilts.atlassian.net/jira)",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:8000",
      "description": "Máy chủ địa phương"
    },
    {
      "url": "https://customer-api-fe.agilts.com",
      "description": "Dành cho Lập trình viên"
    },
    {
      "url": "https://customer-api-staging.agilts.com",
      "description": "Dành cho Đối tác"
    },
    {
      "url": "https://customer-api.agilts.com",
      "description": "Sản phẩm hoàn thiện"
    }
  ],
  "paths": {
    "/sanctum/csrf-cookie": {
      "get": {
        "description": "Lấy Token CORS",
        "tags": [
          "auth"
        ],
        "responses": {
          "204": {
            "description": "Thiết lập Cookie CORS thành công"
          }
        }
      }
    },
    "/register": {
      "post": {
        "description": "Đăng ký tài khoản",
        "tags": [
          "auth"
        ],
        "parameters": [
          {
            "name": "X-Requested-With",
            "in": "header",
            "example": "XMLHttpRequest",
            "required": true
          },
          {
            "name": "X-CSRF-TOKEN",
            "in": "header",
            "description": "Token CORS",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "name": {
                    "title": "Tên",
                    "description": "Tên khách hàng",
                    "type": "string",
                    "maxLength": 50,
                    "example": "Nguyễn Văn Hải"
                  },
                  "email": {
                    "title": "Email",
                    "description": "Email khách hàng",
                    "type": "string",
                    "maxLength": 100,
                    "example": "nguyenvanhai@agilts.com"
                  },
                  "password": {
                    "title": "Mật khẩu",
                    "description": "Mật khẩu phải chứa chữ thường, chữ in hoa, ký tự đặc biệt và số. Ngoài ra, mật khẩu chưa bị rò rỉ trong các cuộc tấn công đã được công khai",
                    "type": "string",
                    "maxLength": 20,
                    "minLength": 8,
                    "example": "NguyenVanHai825!"
                  },
                  "password_confirmation": {
                    "title": "Xác nhận lại mật khẩu",
                    "description": "Nhập chính xác mật khẩu trước đó",
                    "type": "string",
                    "maxLength": 20,
                    "minLength": 8,
                    "example": "NguyenVanHai825!"
                  }
                },
                "type": "object",
                "required": [
                  "name",
                  "email",
                  "password",
                  "password_confirmation"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Đăng ký tài khoản thành công",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Dữ liệu trả về",
                  "example": ""
                }
              }
            }
          },
          "419": {
            "description": "Token CORS bị thiếu, không hợp lệ hoặc đã hết hạn",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "description": "Token CSRF không khớp.",
                      "example": "CSRF token mismatch."
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "422": {
            "description": "Dữ liệu khách hàng đã nhập không được chấp nhận",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "example": "Trường tên là bắt buộc. (và 2 lỗi khác)"
                    },
                    "errors": {
                      "properties": {
                        "name": {
                          "title": "Tên",
                          "description": "Tên khách hàng",
                          "example": [
                            "Trường tên là bắt buộc."
                          ],
                          "type": "array"
                        },
                        "email": {
                          "title": "Email",
                          "description": "Email khách hàng",
                          "example": [
                            "Trường email là bắt buộc."
                          ],
                          "type": "array"
                        },
                        "password": {
                          "title": "Mật khẩu",
                          "description": "Mật khẩu khách hàng",
                          "example": [
                            "Trường mật khẩu là bắt buộc."
                          ],
                          "type": "array"
                        }
                      }
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/login": {
      "post": {
        "description": "Đăng nhập tài khoản",
        "tags": [
          "auth"
        ],
        "parameters": [
          {
            "name": "X-Requested-With",
            "in": "header",
            "example": "XMLHttpRequest",
            "required": true
          },
          {
            "name": "X-CSRF-TOKEN",
            "in": "header",
            "description": "Token CORS",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "properties": {
                  "email": {
                    "title": "Email",
                    "description": "Email khách hàng",
                    "type": "string",
                    "example": "nguyenvanhai@agilts.com"
                  },
                  "password": {
                    "title": "Mật khẩu",
                    "description": "Mật khẩu khách hàng",
                    "type": "string",
                    "example": "NguyenVanHai825!"
                  },
                  "remember": {
                    "title": "Ghi nhớ tôi",
                    "description": "Tài khoản không bị đăng xuất sau khoảng thời gian nhất định",
                    "type": "boolean",
                    "example": false
                  }
                },
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Đăng nhập tài khoản thành công",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "two_factor": {
                      "title": "Xác thực 2 bước",
                      "description": "Trạng thái xác thực 2 bước",
                      "example": false,
                      "type": "boolean"
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "419": {
            "description": "Token CORS bị thiếu, không hợp lệ hoặc đã hết hạn",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "description": "Token CSRF không khớp.",
                      "example": "CSRF token mismatch."
                    }
                  },
                  "type": "object"
                }
              }
            }
          },
          "422": {
            "description": "Dữ liệu khách hàng đã nhập không được chấp nhận",
            "content": {
              "application/json": {
                "schema": {
                  "properties": {
                    "message": {
                      "title": "Thông báo ngắn",
                      "type": "string",
                      "example": "Trường email là bắt buộc. (và 1 lỗi)"
                    },
                    "errors": {
                      "properties": {
                        "email": {
                          "title": "Email",
                          "description": "Email khách hàng",
                          "type": "array",
                          "example": [
                            "Trường email là bắt buộc."
                          ]
                        },
                        "password": {
                          "title": "Mật khẩu",
                          "description": "Mật khẩu khách hàng",
                          "type": "array",
                          "example": [
                            "Trường mật khẩu là bắt buộc."
                          ]
                        }
                      }
                    }
                  },
                  "type": "object"
                }
              }
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Xác thực",
      "description": "Chỉ định cách xác thực người dùng truy cập hệ thống"
    }
  ]
}